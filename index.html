<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-09-15 Tue 20:12 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Saving for Retirement</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Matt Brigida, Ph.D." />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/styles/readtheorg/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/styles/readtheorg/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/styles/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/styles/readtheorg/js/readtheorg.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2017 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">Saving for Retirement</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgf9699cb">1. Annuity Retirement Model</a>
<ul>
<li><a href="#orge7f7986">1.1. Future Value</a>
<ul>
<li><a href="#org5023787">1.1.1. Using an Annuity Formula</a></li>
<li><a href="#orgc4e4caa">1.1.2. Future Value of Each Cash Flow</a></li>
</ul>
</li>
<li><a href="#orge948b07">1.2. Interactive App</a></li>
<li><a href="#orgbcdb580">1.3. Solving for the Number of Periods</a>
<ul>
<li><a href="#orgbb8777b">1.3.1. Using the FV Annuity Formula</a></li>
</ul>
</li>
<li><a href="#org8858d28">1.4. Solving for r</a></li>
</ul>
</li>
<li><a href="#org4101cd1">2. Growing Annuity Retirement Model</a></li>
<li><a href="#orgf1ed63f">3. Credits and Collaboration</a></li>
</ul>
</div>
</div>


<div id="outline-container-orgf9699cb" class="outline-2">
<h2 id="orgf9699cb"><span class="section-number-2">1</span> Annuity Retirement Model</h2>
<div class="outline-text-2" id="text-1">
<p>
Say as your retirement plan you intend to put $5000 per year, for the next 20 years, into a retirement account.  Further, you expect this account to earn 8% per year.  In this case your savings plan is in the form of an <b>annuity</b>.
</p>

<blockquote>
<p>
Annuity: a security with a fixed cash flow every period for a fixed number of periods.
</p>
</blockquote>

<p>
In your retirement plan $5000 is the fixed cash flow, the period is yearly, and the number of periods is 20.  
</p>
</div>

<div id="outline-container-orge7f7986" class="outline-3">
<h3 id="orge7f7986"><span class="section-number-3">1.1</span> Future Value</h3>
<div class="outline-text-3" id="text-1-1">
<p>
To calculate how much we'll have in our retirement account we can (1) use a convenient annuity formula, or (2) find the future value of each individual cash flow and sum these future values.
</p>
</div>

<div id="outline-container-org5023787" class="outline-4">
<h4 id="org5023787"><span class="section-number-4">1.1.1</span> Using an Annuity Formula</h4>
<div class="outline-text-4" id="text-1-1-1">
<p>
We can calculate how much money you will have in your account at the end of year 20 with the following <i>future value of an annuity</i> formula:
</p>

<p>
\(FVA = C\left(\frac{(1 + r)^n - 1}{r}\right)\)
</p>

<p>
where <i>FVA</i> denotes the future value of the annuity, <i>C</i> is the cash flow per period, <i>r</i> is the interest rate per period, and <i>n</i> is the number of periods.
</p>

<p>
Using this formula you can calculate how much money you will have in 20 years:
</p>

<p>
\(FVA = 5000\left(\frac{(1 + 0.08)^20 - 1}{0.08}\right) = 228809.8\)
</p>

<p>
So you will have $228,809.90 in your retirement account in 20 years.
</p>
</div>
</div>

<div id="outline-container-orgc4e4caa" class="outline-4">
<h4 id="orgc4e4caa"><span class="section-number-4">1.1.2</span> Future Value of Each Cash Flow</h4>
<div class="outline-text-4" id="text-1-1-2">
<p>
Annuity formulas were much more useful prior to widespread use of spreadsheets and programming languages.  
</p>
</div>

<ol class="org-ol">
<li><a id="org6253361"></a>Spreadsheet<br />
<div class="outline-text-5" id="text-1-1-2-1">
<p>
The following table shows how you can organize a spreadsheet to find the future value of the annuity.  The formula in the future value column is:
</p>

<p>
\(FV = C(1 + r)^{(20 - t)}\)
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">Time (t)</th>
<th scope="col" class="org-right">Cash Flow (cf)</th>
<th scope="col" class="org-right">Interest Rate (r)</th>
<th scope="col" class="org-right">FV @ year 20</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">1</td>
<td class="org-right">5000</td>
<td class="org-right">0.08</td>
<td class="org-right">21578.505</td>
</tr>

<tr>
<td class="org-right">2</td>
<td class="org-right">5000</td>
<td class="org-right">0.08</td>
<td class="org-right">19980.097</td>
</tr>

<tr>
<td class="org-right">3</td>
<td class="org-right">5000</td>
<td class="org-right">0.08</td>
<td class="org-right">18500.090</td>
</tr>

<tr>
<td class="org-right">4</td>
<td class="org-right">5000</td>
<td class="org-right">0.08</td>
<td class="org-right">17129.713</td>
</tr>

<tr>
<td class="org-right">5</td>
<td class="org-right">5000</td>
<td class="org-right">0.08</td>
<td class="org-right">15860.846</td>
</tr>

<tr>
<td class="org-right">6</td>
<td class="org-right">5000</td>
<td class="org-right">0.08</td>
<td class="org-right">14685.968</td>
</tr>

<tr>
<td class="org-right">7</td>
<td class="org-right">5000</td>
<td class="org-right">0.08</td>
<td class="org-right">13598.119</td>
</tr>

<tr>
<td class="org-right">8</td>
<td class="org-right">5000</td>
<td class="org-right">0.08</td>
<td class="org-right">12590.851</td>
</tr>

<tr>
<td class="org-right">9</td>
<td class="org-right">5000</td>
<td class="org-right">0.08</td>
<td class="org-right">11658.195</td>
</tr>

<tr>
<td class="org-right">10</td>
<td class="org-right">5000</td>
<td class="org-right">0.08</td>
<td class="org-right">10794.625</td>
</tr>

<tr>
<td class="org-right">11</td>
<td class="org-right">5000</td>
<td class="org-right">0.08</td>
<td class="org-right">9995.0231</td>
</tr>

<tr>
<td class="org-right">12</td>
<td class="org-right">5000</td>
<td class="org-right">0.08</td>
<td class="org-right">9254.6511</td>
</tr>

<tr>
<td class="org-right">13</td>
<td class="org-right">5000</td>
<td class="org-right">0.08</td>
<td class="org-right">8569.1213</td>
</tr>

<tr>
<td class="org-right">14</td>
<td class="org-right">5000</td>
<td class="org-right">0.08</td>
<td class="org-right">7934.3716</td>
</tr>

<tr>
<td class="org-right">15</td>
<td class="org-right">5000</td>
<td class="org-right">0.08</td>
<td class="org-right">7346.6404</td>
</tr>

<tr>
<td class="org-right">16</td>
<td class="org-right">5000</td>
<td class="org-right">0.08</td>
<td class="org-right">6802.4448</td>
</tr>

<tr>
<td class="org-right">17</td>
<td class="org-right">5000</td>
<td class="org-right">0.08</td>
<td class="org-right">6298.56</td>
</tr>

<tr>
<td class="org-right">18</td>
<td class="org-right">5000</td>
<td class="org-right">0.08</td>
<td class="org-right">5832.</td>
</tr>

<tr>
<td class="org-right">19</td>
<td class="org-right">5000</td>
<td class="org-right">0.08</td>
<td class="org-right">5400.</td>
</tr>

<tr>
<td class="org-right">20</td>
<td class="org-right">5000</td>
<td class="org-right">0.08</td>
<td class="org-right">5000.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">FVA  =</td>
<td class="org-right">228809.82</td>
</tr>
</tbody>
</table>
</div>
</li>

<li><a id="org2033542"></a>Loop<br />
<div class="outline-text-5" id="text-1-1-2-2">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #8787d7;">cf</span> = 5000
<span style="color: #8787d7;">r</span> = 0.08
<span style="color: #8787d7;">n</span> = 20

<span style="color: #8787d7;">fva</span> = 0
<span style="color: #268bd2; font-weight: bold;">for</span> n <span style="color: #268bd2; font-weight: bold;">in</span> <span style="color: #268bd2;">range</span><span style="color: #268bd2;">(</span>n<span style="color: #268bd2;">)</span>:
<span style="background-color: #262626;"> </span>   <span style="color: #8787d7;">fva</span> += cf * <span style="color: #268bd2;">(</span>1 + r<span style="color: #268bd2;">)</span>**<span style="color: #268bd2;">(</span>n<span style="color: #268bd2;">)</span>

<span style="color: #268bd2; font-weight: bold;">return</span> fva
</pre>
</div>

<pre class="example">
228809.82149058158

</pre>

<p>
Note range(n) gives you 0, 1, &#x2026; , n-1 which is happily what we want.
</p>
</div>
</li>

<li><a id="orgbd39de3"></a>Recursive<br />
<div class="outline-text-5" id="text-1-1-2-3">
<p>
Here is a functional programming approach implemented in python&#x2014;it uses recursion instead of the imperative style loop. It is nice because it doesn't rely on changing variables' state, which can lead to errors.  Don't worry if it doesn't make sense at this point.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #268bd2; font-weight: bold;">def</span> <span style="color: #d75fd7; font-weight: bold;">fva</span><span style="color: #268bd2;">(</span>cf, r, n<span style="color: #268bd2;">)</span>:
<span style="background-color: #262626;"> </span>   <span style="color: #268bd2; font-weight: bold;">if</span> n - 1 == 0:
        <span style="color: #268bd2; font-weight: bold;">return</span> cf
<span style="background-color: #262626;"> </span>   <span style="color: #268bd2; font-weight: bold;">else</span>:
        <span style="color: #268bd2; font-weight: bold;">return</span> cf * <span style="color: #268bd2;">(</span>1 + r<span style="color: #268bd2;">)</span>**<span style="color: #268bd2;">(</span>n - 1<span style="color: #268bd2;">)</span> + fva<span style="color: #268bd2;">(</span>cf, r, n - 1<span style="color: #268bd2;">)</span>

<span style="color: #268bd2; font-weight: bold;">return</span> fva<span style="color: #268bd2;">(</span>5000, 0.08, 20<span style="color: #268bd2;">)</span>
</pre>
</div>

<pre class="example">
228809.82149058158

</pre>

<p>
Same approach in R.  
</p>

<div class="org-src-container">
<pre class="src src-R"><span style="color: #d75fd7; font-weight: bold;">fva</span> <span style="color: #df005f; font-weight: bold;">&lt;-</span> <span style="color: #268bd2; font-weight: bold;">function</span><span style="color: #268bd2;">(</span>cf, r, n<span style="color: #268bd2;">){</span>
    <span style="color: #268bd2; font-weight: bold;">if</span><span style="color: #d75fd7;">(</span>n - 1 == 0<span style="color: #d75fd7;">){</span>
        cf
    <span style="color: #d75fd7;">}</span> <span style="color: #268bd2; font-weight: bold;">else</span> <span style="color: #d75fd7;">{</span>
        cf * <span style="color: #2aa198;">(</span>1 + r<span style="color: #2aa198;">)</span>^<span style="color: #2aa198;">(</span>n - 1<span style="color: #2aa198;">)</span> + fva<span style="color: #2aa198;">(</span>cf, r, n - 1<span style="color: #2aa198;">)</span>
    <span style="color: #d75fd7;">}</span>
<span style="color: #268bd2;">}</span>

fva<span style="color: #268bd2;">(</span>5000, 0.08, 20<span style="color: #268bd2;">)</span>
</pre>
</div>

<pre class="example">
228809.821490582

</pre>
</div>
</li>
</ol>
</div>
</div>



<div id="outline-container-orge948b07" class="outline-3">
<h3 id="orge948b07"><span class="section-number-3">1.2</span> Interactive App</h3>
<div class="outline-text-3" id="text-1-2">
<p>
The following app will calculate OCF for any company you choose.  
</p>

<ul class="org-ul">
<li>Note how different OCF can be from Net Income.</li>
</ul>



  <style>
   .slidecontainer {
  width: 100%; /* Width of the outside container */
}

/* The slider itself */
.slider {
  -webkit-appearance: none;  /* Override default CSS styles */
  appearance: none;
  width: 100%; /* Full-width */
  height: 25px; /* Specified height */
  background: #d3d3d3; /* Grey background */
  outline: none; /* Remove outline */
  opacity: 0.7; /* Set transparency (for mouse-over effects on hover) */
  -webkit-transition: .2s; /* 0.2 seconds transition on hover */
  transition: opacity .2s;
}

/* Mouse-over effects */
.slider:hover {
  opacity: 1; /* Fully shown on mouse-over */
}

/* The slider handle (use -webkit- (Chrome, Opera, Safari, Edge) and -moz- (Firefox) to override default look) */
.slider::-webkit-slider-thumb {
  -webkit-appearance: none; /* Override default look */
  appearance: none;
  width: 25px; /* Set a specific slider handle width */
  height: 25px; /* Slider handle height */
  background: #4CAF50; /* Green background */
  cursor: pointer; /* Cursor on hover */
}

.slider::-moz-range-thumb {
  width: 25px; /* Set a specific slider handle width */
  height: 25px; /* Slider handle height */
  background: #4CAF50; /* Green background */
  cursor: pointer; /* Cursor on hover */
} 

table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  background-color: #dddddd;
}
  </style>



  <center><h2>Future Value of an Annuity Calculator:</h2></center>
<div class="slidecontainer">
  <input type="range" min="100" max="10000" value="5000" class="slider" id="cf" step="100">
  <p align="center"><b>Cash Flow: <span id="cf_out"></b></span></p>  
  <input type="range" min="0.00" max="100.00" value="50" class="slider" id="r">
  <p align="center"><b>Interest Rate per Period: <span id="r_out">%</b></span></p>  
  <input type="range" min="1" max="25" value="5" class="slider" id="n">
  <p align="center"><b>Number of Periods: <span id="n_out"></b></span></p>  
</div>

<center><button onclick="myJsFunction()">Calculate</button></center>
<br>
<br>
<center>
The <b>future value of the annuity is $<span id="fva"></span></b>
</center>
<br>
<br>
<hr>
<!---
<center>
<br>
<table>
  <tr>
    <th>Cash Flow</th>
    <th><span id="cf_table"></span></th>
  </tr>
  <tr>
    <th>Interest Rate</th>
    <th><span id="r_table"></span></th>
  </tr>
  <tr>
    <th>Number of Periods</th>
    <th><span id="n_table"></span></th>
  </tr>
  <tr>
    <th>Future Value of the Annuity</th>
    <th><span id="fva"></span></th>
  </tr>
</table>
</center>
-->
    <script src="src/app1.js"></script>
</div>
</div>


<div id="outline-container-orgbcdb580" class="outline-3">
<h3 id="orgbcdb580"><span class="section-number-3">1.3</span> Solving for the Number of Periods</h3>
<div class="outline-text-3" id="text-1-3">
<p>
You may also want to know how long you have to save for retirement until you hit a particular goal amount.  
</p>
</div>

<div id="outline-container-orgbb8777b" class="outline-4">
<h4 id="orgbb8777b"><span class="section-number-4">1.3.1</span> Using the FV Annuity Formula</h4>
<div class="outline-text-4" id="text-1-3-1">
<p>
We can rearrange our future value of an annuity formula for n:
</p>

<p>
\(FVA = C\left(\frac{(1 + r)^n - 1}{r}\right)\)
</p>

<p>
becomes:
</p>

<p>
\((1 + r)^n = \frac{FVA(r)}{C} + 1 = \frac{FVA(r) + C}{C}\)
</p>

<p>
and taking logs:
</p>

<p>
\(n = \frac{ln\left(\frac{FVA(r) + C}{C}\right)}{ln(1 + r)}\)
</p>

<p>
So, say we wanted to have $400,000 in our account at retirement.  Then we have to save for:
</p>

<p>
\(n = \frac{ln\left(\frac{400,000(0.08) + 5000}{5000}\right)}{ln(1 + 0.08)} = 26\ years\)
</p>
</div>
</div>
</div>


<div id="outline-container-org8858d28" class="outline-3">
<h3 id="org8858d28"><span class="section-number-3">1.4</span> Solving for r</h3>
</div>
</div>


<div id="outline-container-org4101cd1" class="outline-2">
<h2 id="org4101cd1"><span class="section-number-2">2</span> Growing Annuity Retirement Model</h2>
<div class="outline-text-2" id="text-2">
<p>
A possibly unrealistic feature of using an annuity to model your retirement savings is its assumption that you make constant retirement payments. It is more likely that you will increase your payments over time as your salary increases. In this case we can calculate your retirement savings using the future value of a <b>Growing Annuity</b>.  The formula is:
</p>
</div>
</div>





<div id="outline-container-orgf1ed63f" class="outline-2">
<h2 id="orgf1ed63f"><span class="section-number-2">3</span> Credits and Collaboration</h2>
<div class="outline-text-2" id="text-3">
<p>
<a href="https://github.com/financial-education/operating_cash_flow">The code is here and pull requests are welcome.</a>
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Matt Brigida, Ph.D.</p>
<p class="date">Created: 2020-09-15 Tue 20:12</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
